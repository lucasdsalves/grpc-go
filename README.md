
# About 
This project is a gRPC demonstration using Go.

It shows how we can create, get and list an entity called <i>Category</i>.

# gRPC
<a href="https://grpc.io/" target="_blank">gRPC</a> is a Remote Procedure Call (RPC) framework developed by Google that makes the communication process between systems very smooth and fast using proto buffers and HTTP2.

It can be very useful in multiple scenarios, including microservices.

In the opposite of REST, gRPC supports bidirecional communication and streams, where we can send and receive data simultaneously.


# Project technologies
* Go
* <a href="https://grpc.io/docs/languages/go/quickstart/" target="_blank">Go Protocol Buffer Compiler</a>
* <a href="https://gqlgen.com/" target="_blank">Evans</a> - gRPC client
* SQLite

# Project structure
<b>cmd</b> - main package<br />
<b>internal</b> <br />
&nbsp; | <b>database</b> - services responsible to interact with database<br />
&nbsp; | <b>pb</b> - auto-generated by protoc-gen-go-grpc lib<br />
&nbsp; | <b>services</b> - methods responsible to interact with proto, rpc and stream <br />
<b>proto</b> - proto file<br />
<b>db.sqlite</b> - in memory relational database

# SQLite commands
A table Category must be created:
```
create table categories (id string, name string, description string);
```

# Go Protocol Buffer Compiler

If you're using Windows and have <a href="https://chocolatey.org/" target="_blank">Chocolatey</a> as package manager, you can install Go Protocol Buffer Compiler using the command below
```
choco install protoc
```

# Running app & gRPC interaction
You'll need to have two terminals opened. <br />
One to run the project
```
go run .\cmd\grpcServer\main.go
```
And the other one to run Evans, the gRPC client
```
evans -r repl 
```

Inside Evans, you'll be able to see the list of calls available
<div align="center">
<img src="/screenshots/calls.png" width="977" height="179"/>
</div> 

Calling 'ListCategories'
<div align="center">
<img src="/screenshots/listCategories.png" width="705" height="817"/>
</div> 

Calling 'CreateCategoryStreamBidirectional'
That's the gRPC magic! <br />
On this call, we'll be sending and receiving data simultaneously.
<div align="center">
<img src="/screenshots/bidirecional.png" width="692" height="541"/>
</div> 


### Useful commands

To initiate a project
```
go mod init projectName
```

To run the project
```
go run .\cmd\grpcServer\main.go
```

 Command that synchronizes the go mod file with the actual dependencies used in the codebase
```
go mod tidy
```

Running SQLIte (it depends on SQLite is installed and configured on your OS). I used command below on Windows.
```
C:\sqlite\sqlite3.exe db.sqlite
```

<br />
This project was built and inspired during course on the <a href="https://github.com/devfullcycle/fc-grpc" target="_blank">Fullcycle platform.</a>
